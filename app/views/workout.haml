%section
  %hgroup
    %h2 IMPORTANT NOTICE!
    %h3 DO NOT CLICK on any elements of this page with your mouse! (You can scroll to view the page.)
  %hgroup
    %p 
      As web users, we're used to using our mouse to interact with elements on a page, such as buttons, checkboxes, radio buttons, text inputs... The list goes on! But for you to be able to 
      %em test these interactions with RSpec (or another testing framework)
      we need the help of
      %strong CAPYBARA!
    %p
      Refer to the 
      %a{href: "https://devhints.io/capybara", target: "_blank"} Capybara cheat sheet 
      and 
      %strong use Capybara 
      %em (via your terminal) 
      to instruct the automated browser to click on the buttons below.
    %hr

%section
  %hgroup
    %h3 Buttons
    %h4 You can make Capybara click on these buttons by using their unique values!

  = haml :"partials/_tips", locals: { code_tip: "pry(main)> click_button('Click me!')" }

  .grid
    %button{ id: "button-one"} Click me!
    %button{ id: "button-two"} Click on me too!
  
  %hr

%section
  %hgroup
    %h3 Checkboxes
    %p Input elements can also be selected by their 'name' attributes:
    %p
      :escaped
        <input type="checkbox"
      = surround 'name="', '">' do
        %span.inner-highlight first-checkbox
      

  = haml :"partials/_tips", locals: { code_tip: "pry(main)> check('first-checkbox')" }

  %fieldset
    %label{:for => "first-checkbox"}
      %input{:name => "first-checkbox", :type => "checkbox"}/
      Check me!
    %label{:for => "second-checkbox"}
      %input{:name => "second-checkbox", :type => "checkbox"}/
      And me!
  %hr

%section
  %h3 Buttons: identical values
  %p Try to click these buttons by their values. What error do you get? 

  .grid
  %section.banana
    %button{ id: "button-three"}  Same button, different section
  %section.apple
    %button{ id: "button-three"}  Same button, different section

  %p 
    Look at using Capybara's
    %a{href: 'https://www.rubydoc.info/github/jnicklas/capybara/Capybara%2FSession:within'} 
      'within' syntax
    and use the name of the 
    %span.outer-highlight 
      %em element 
    along with the name of the 
    %span.inner-highlight 
      %em class
    you can be very specific about which button you are referring to:
    
  %p
    :escaped
      <
    %span.outer-highlight section
    :escaped
    = surround 'class="', '"' do
      %span.inner-highlight banana
    >

  = haml :"partials/_tips", locals: { code_tip: "pry(main)> within('section.banana') do\n click_button(\"Same button, different section\")\n end" }
  
  %p 
    When you've got the code in the example working, see if you can figure out how to click on the second button.



  %hr

%section.identicals.definition-row
  %h3 Buttons: different IDs
  %p  These buttons should be targetted by their IDs. Hint: this is easier than you think.
  %h5
    :escaped
      <button id='left'>
  .fifth.centered-row
    .button-row
      %button.celebrate.button--horizontal{ id: 'left' } We're the same but we have different IDs
      %button.celebrate.button--horizontal{ id: 'right'} We're the same but we have different IDs
  = haml :"partials/_tips", locals: { code_tip: "pry(main)> click_button \"We're the same but we have different IDs\"" }
%hr

%section.identicals.definition-row
  %h3 Buttons: different classes
  %p These buttons should be targetted by their classes.
  %h5
    :escaped
      <button class='left'>
  .sixth.centered-row
    .button-row
      %button{ class: 'left'    }  We're the same but we have different classes
      %button{ class: 'right' }  We're the same but we have different classes
  = haml :"partials/_tips", locals: { code_tip: "pry(main)> find('button.left').click" }
%hr

%section.definition-row.centered-row
  %h3 Forms
  %p Try to fill in this form!
  = haml :"partials/_tips", locals: { code_tip: "pry(main)> fill_in 'name', with: 'Bob'" }
  %section
    .container
      %section.madlibs.form-row
        %form{ method: 'POST', action: '/madlibs' }
          %fieldset
            %ul
              - [:name, :age, :gender, :hometown, :'favourite beverage'].each do |input_label|
                %li
                  %label{ for: input_label.to_s } #{input_label.to_s}
                  %input{ type: 'text', name: input_label.to_s }
            .centered-row
              %input{ type: 'submit', value: "Submit" }
